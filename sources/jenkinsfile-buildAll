pipeline {
    agent  { 
        label 'slave-3.23-maven-3.5.4'
    }
    stages {
        stage("common"){
            steps {
                build 'component/BlaBlaMove_Commons'
            }
        }
        stage("agency-notifier"){
            steps {
                build 'component/BlaBlaMove_Agency_Notifier'
            }
        }
        stage("contract-registry & contract-instance & travelValidator"){
            parallel{
                stage("contract-registry"){
                    steps {
                        build 'component/BlaBlaMove_Contract_Registry'
                    }
                }
                stage("contract-instance"){
                    steps {
                        build 'component/BlaBlaMove_Contract_Instance'
                    }
                }
                stage("travelValidator"){
                    steps {
                        build 'component/BlaBlaMove_TravelValidator'
                    }
                }
            }
        }
        stage("insurance-validator"){
            steps {
                build 'component/BlaBlaMove_InsuranceValidator'
            }
        }
        stage("messageReceiver"){
            steps {
                build 'component/BlaBlaMove_MessageReceiver'
            }
        }
        stage("path-service"){
            steps {
                build 'component/BlaBlaMove_Path_Service'
            }
        }
        stage("webservice"){
            parallel{
                stage("customer-ws"){
                    steps {
                        build 'component/BlaBlaMove_CustomerWS'
                    }
                }
                stage("insurer-ws"){
                    steps {
                        build 'component/BlaBlaMove_InsurerWS'
                    }
                }
            }
        }
    }
}